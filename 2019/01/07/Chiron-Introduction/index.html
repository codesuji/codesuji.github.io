<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>An Introduction to Chiron | codesuji</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Today’s post is a introduction to performing json serialization tasks using F# and Chiron.">
<meta name="keywords" content="F#,FSharp,Chiron,Serialization">
<meta property="og:type" content="article">
<meta property="og:title" content="An Introduction to Chiron">
<meta property="og:url" content="http://codesuji.com/2019/01/07/Chiron-Introduction/index.html">
<meta property="og:site_name" content="codesuji">
<meta property="og:description" content="Today’s post is a introduction to performing json serialization tasks using F# and Chiron.">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-01-08T02:49:10.433Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="An Introduction to Chiron">
<meta name="twitter:description" content="Today’s post is a introduction to performing json serialization tasks using F# and Chiron.">
  
    <link rel="alternate" href="/atom.xml" title="codesuji" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-89982547-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">codesuji</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://codesuji.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Chiron-Introduction" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/07/Chiron-Introduction/" class="article-date">
  <time datetime="2019-01-08T02:23:57.000Z" itemprop="datePublished">2019-01-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      An Introduction to Chiron
    </h1>
  

 		<span class="post-count">Read Time: 17 minutes</span>
 	  </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Today’s post is a introduction to performing json serialization tasks using <a href="https://fsharp.org" target="_blank" rel="noopener">F#</a> and <a href="https://xyncro.tech/chiron/" target="_blank" rel="noopener">Chiron</a>.</p>
<a id="more"></a>
<p>There are various ways to perform serialization in F#, each has their own set of advantages and disadvantages.  In particular, Chiron provides nice control over more complex types.  Within Chiron there are multiple approaches.  The examples provided are not exhaustive, but are meant to be a good starting point for how various types can be serialized and deserialized.  The code will be based on a player object for a theoretical game.  Using that as a premise, there are two major things we’ll look at: records and discriminated unions.  Both will have their own unique variations.</p>
<h3 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h3><p>First, add the package to the project.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dotnet new console -lang f# --name Introduction</span><br><span class="line">cd Introduction</span><br><span class="line">dotnet add package Chiron --version 6.3.1</span><br></pre></td></tr></table></figure>
<p>Second, import the <code>Chiron</code> namespace.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">open</span> Chiron </span><br></pre></td></tr></table></figure>
<h3 id="Record-Types"><a href="#Record-Types" class="headerlink" title="Record Types"></a>Record Types</h3><p>Record are perhaps the most common type to serialize.  They are also straightforward, once you understand the mechanisms at work.  This first example uses just primative types that can be handled with no additional code required.  Chiron expects <code>ToJson</code> and <code>FromJson</code> methods when serializing and deserializing (respectively).  Both use a <code>json {...}</code> computation expression.  Serialization is accomplished with a series of <code>do! Json.write &lt;attribute name&gt; &lt;attribute value&gt;</code> statements.  This allows us to define what we want to be serialized.  For Deserialization there are two steps.  First, <code>let! &lt;var&gt; = Json.read &lt;attribute name&gt;</code> extracts the values.  Once we have the values, we need to construct the record and <code>return</code> it.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Player</span> </span>= &#123;</span><br><span class="line">  Name :string;</span><br><span class="line">  Score :int;</span><br><span class="line">  Notes :string list;</span><br><span class="line">  IntPairs :(int * int) list;</span><br><span class="line">  &#125; <span class="keyword">with</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> ToJson (p :Player) = json &#123;</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"name"</span> p.Name</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"score"</span> p.Score</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"notes"</span> p.Notes</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"int_pairs"</span> p.IntPairs</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> FromJson (_ :Player) = json &#123;</span><br><span class="line">    <span class="keyword">let!</span> name = Json.read <span class="string">"name"</span></span><br><span class="line">    <span class="keyword">let!</span> score = Json.read <span class="string">"score"</span></span><br><span class="line">    <span class="keyword">let!</span> notes = Json.read <span class="string">"notes"</span></span><br><span class="line">    <span class="keyword">let!</span> intPairs = Json.read <span class="string">"int_pairs"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; </span><br><span class="line">      Player.Name = name;</span><br><span class="line">      Score = score;</span><br><span class="line">      Notes = notes;</span><br><span class="line">      IntPairs = intPairs;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>Now that the supporting code is in place, let’s look at how to use it.  Conversion in both ways basically requires two steps.  To serialize, the record is serialized, then formatted <code>(Json.serialize &gt;&gt; Json.format)</code>.  This is also where we have addition options.  The default json format is compact, which is typically want we want when passing data around.  But if we want a nicer view, we can <code>(Json.serialize &gt;&gt; Json.formatWith JsonFormattingOptions.Pretty)</code> to pretty print.  The other side of the equation is deserialization.  Here we parse, then deserialize <code>(Json.parse &gt;&gt; Json.deserialize)</code>.  The additional key here is to define the type we want to deserialize into.  At a basic level, that is all there is to it.  Everything else we’ll look at will be incremental expansions on these concepts.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[&lt;EntryPoint&gt;]</span></span><br><span class="line"><span class="keyword">let</span> main argv =</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> player1 = &#123; </span><br><span class="line">    Player.Name = <span class="string">"Jane"</span>; </span><br><span class="line">    Score = <span class="number">100</span>; </span><br><span class="line">    Notes = [ </span><br><span class="line">      <span class="string">"This is a note"</span>; </span><br><span class="line">      <span class="string">"This is another note"</span> ]; </span><br><span class="line">    IntPairs = [ </span><br><span class="line">      (<span class="number">1</span>,<span class="number">3</span>); </span><br><span class="line">      (<span class="number">13</span>, <span class="number">87</span>) ];</span><br><span class="line">   &#125;</span><br><span class="line">  </span><br><span class="line">  printfn <span class="string">"Player1: %A"</span> player1</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> player1Json = (Json.serialize &gt;&gt; Json.format) player1</span><br><span class="line">  printfn <span class="string">"Json (compact): \n%s"</span> player1Json</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> player1JsonPretty = (Json.serialize &gt;&gt; Json.formatWith JsonFormattingOptions.Pretty) player1</span><br><span class="line">  printfn <span class="string">"Json (pretty): \n%s"</span> player1JsonPretty</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> player1' :Player = (Json.parse &gt;&gt; Json.deserialize) player1Json</span><br><span class="line">  printfn <span class="string">"Player1': %A"</span> player1'</span><br><span class="line">  </span><br><span class="line">  <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>Now, let’s take a look at the results.  For the most part they are exactly as expected, which is good.  The one caveat is the list tuples.  Since json doesn’t have a concept of tuples, they are serialized into an array.  This is fine, it’s more about knowing how the default serialization works.  As with other things in Chiron, this could be modified by writing our own serialization code into a different format.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># Player1 object</span><br><span class="line">Player1: &#123;Name = "Jane";</span><br><span class="line"> Score = 100;</span><br><span class="line"> Notes = ["This is a note"; "This is another note"];</span><br><span class="line"> IntPairs = [(1, 3); (13, 87)];&#125;</span><br><span class="line"></span><br><span class="line"># Player1 as json</span><br><span class="line">Json (compact): </span><br><span class="line">&#123;<span class="attr">"int_pairs"</span>:[[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">13</span>,<span class="number">87</span>]],<span class="attr">"name"</span>:<span class="string">"Jane"</span>,<span class="attr">"notes"</span>:[<span class="string">"This is a note"</span>,<span class="string">"This is another note"</span>],<span class="attr">"score"</span>:<span class="number">100</span>&#125;</span><br><span class="line"></span><br><span class="line"># Player1 as prettified json</span><br><span class="line">Json (pretty): </span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"int_pairs"</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="number">1</span>,</span><br><span class="line">      <span class="number">3</span></span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">      <span class="number">13</span>,</span><br><span class="line">      <span class="number">87</span></span><br><span class="line">    ]</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"Jane"</span>,</span><br><span class="line">  <span class="attr">"notes"</span>: [</span><br><span class="line">    <span class="string">"This is a note"</span>,</span><br><span class="line">    <span class="string">"This is another note"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"score"</span>: <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># Player1' object (deserialized from json string)</span><br><span class="line">Player1': &#123;Name = "Jane";</span><br><span class="line"> Score = 100;</span><br><span class="line"> Notes = ["This is a note"; "This is another note"];</span><br><span class="line"> IntPairs = [(1, 3); (13, 87)];&#125;</span><br></pre></td></tr></table></figure>
<p>The remaining examples will be an expansion of this one.  It will allow us to focus on the new stuff without getting lost in a bulk of code.  For completeness, I’ll provide the final version of <code>Player</code> at the end of the post so it can all be seen together.</p>
<h3 id="Records-within-Records"><a href="#Records-within-Records" class="headerlink" title="Records within Records"></a>Records within Records</h3><p>Next, records within records.  To do this we’ll need to create another record type, <code>Point</code>.  Beyond the base type definition, the <code>ToJson</code> and <code>FromJson</code> functions need to be implemented, in a similar fashion as above.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Point</span></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Point</span> </span>= &#123; </span><br><span class="line">  X :int; </span><br><span class="line">  Y :int </span><br><span class="line">  &#125; <span class="keyword">with</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> ToJson (p :Point) = json &#123;</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"x"</span> p.X</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"y"</span> p.Y</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> FromJson (_ :Point) = json &#123;</span><br><span class="line">    <span class="keyword">let!</span> x = Json.read <span class="string">"x"</span></span><br><span class="line">    <span class="keyword">let!</span> y = Json.read <span class="string">"y"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123; Point.X = x; Point.Y = y &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>Adding the new field into the <code>Player</code> record is simple.  The beauty here is that as long as you define the appropriate methods in the <code>Point</code> class, as we did above, Chiron handles the serialization/deserialization with little effort.  We just have to remember there are 3 touch points: definition, ToJson, and FromJson.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Add a Coordinates field that is a list of Points to the definition of the Player type</span></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Player</span> </span>= &#123; ...</span><br><span class="line">  Coordinates :Point list;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Add the new field to the Player's ToJson member function</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> ToJson (p :Player) = json &#123; ...</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"coordinates"</span> p.Coordinates</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Add the new field to the Player's FromJson member function</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> FromJson (_ :Player) = json &#123; ...</span><br><span class="line">    <span class="keyword">let!</span> coordinates = Json.read <span class="string">"coordinates"</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> &#123;  ...</span><br><span class="line">      Coordinates = coordinates</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// When creating the Player object, we need to populate the Coordinates field</span></span><br><span class="line">player1 = &#123; ...</span><br><span class="line">  Coordinates = [ </span><br><span class="line">    &#123; X = <span class="number">30</span>; Y = <span class="number">40</span> &#125;; </span><br><span class="line">    &#123; X = <span class="number">30</span>; Y = <span class="number">41</span> &#125; ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>As we can see below, the Point list is now part of the player.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;coordinates&quot;:[&#123;&quot;x&quot;:30,&quot;y&quot;:40&#125;,&#123;&quot;x&quot;:30,&quot;y&quot;:41&#125;],&quot;int_pairs&quot;:[[1,3],[13,87]],&quot;name&quot;:&quot;Jane&quot;,&quot;notes&quot;:[&quot;This is a note&quot;,&quot;This is another note&quot;],&quot;score&quot;:100&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Discriminated-Unions-Part-1-Simple"><a href="#Discriminated-Unions-Part-1-Simple" class="headerlink" title="Discriminated Unions - Part 1 (Simple)"></a>Discriminated Unions - Part 1 (Simple)</h3><p>Discriminated Unions manifest themselves in a couple different forms when serializing.  As a result, we’ll look at these from a couple different angles.  They sometimes require slightly more of a decision over records types.  When serializing primative types we just take the defaults, which is great.  With discriminated unions we need to decide how we want our serialization to look.  In this case, we’ll look to add a “current direction” to the player, leveraging a <code>Direction</code> type of North, South, East, or West.  For this we’ll just encode the value as a string; it is the simpliest and most straightforward way.  Of special note regarding the <code>ToJson</code> and <code>FromJson</code> functions, we don’t use the <code>json {...}</code> computation expression.  <code>ToJson</code> encodes the string value as a <code>Json</code> type.  <code>FromJson</code> returns a function that converts the string representation to a value.</p>
<p>Something that should be addressed, how to handle invalid values. For this example we’ll fail the parsing with an “Invalid Direction” error.  As an alternative, that might make sense in some cases, it could just be encoded to a default value.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Direction</span></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Direction</span> </span>= N | S | E | W  <span class="keyword">with</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> ToJson (d :Direction) =</span><br><span class="line">    <span class="keyword">match</span> d <span class="keyword">with</span></span><br><span class="line">    | N -&gt; ToJsonDefaults.ToJson <span class="string">"N"</span></span><br><span class="line">    | E -&gt; ToJsonDefaults.ToJson <span class="string">"E"</span></span><br><span class="line">    | S -&gt; ToJsonDefaults.ToJson <span class="string">"S"</span></span><br><span class="line">    | W -&gt; ToJsonDefaults.ToJson <span class="string">"W"</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> FromJson (_ :Direction) = <span class="keyword">fun</span> json -&gt; </span><br><span class="line">    <span class="keyword">match</span> json <span class="keyword">with</span></span><br><span class="line">    | String <span class="string">"N"</span> -&gt; Value N, json</span><br><span class="line">    | String <span class="string">"E"</span> -&gt; Value E, json</span><br><span class="line">    | String <span class="string">"S"</span> -&gt; Value S, json</span><br><span class="line">    | String <span class="string">"W"</span> -&gt; Value W, json</span><br><span class="line">    | _          -&gt; failwith (sprintf <span class="string">"Invalid Direction '%A'"</span> json)</span><br><span class="line">    <span class="comment">// Alternative: Silently fail to a default</span></span><br><span class="line">    <span class="comment">// | _          -&gt; Value N, json</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>As we did before, we need to add the <code>CurrentDirection</code> at 3 points: definition, ToJson, and FromJson.  As we saw in the previous example, with the functions setup on our type, Chiron handles the rest.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Add a CurrentDirection field to the definition of the Player type</span></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Player</span> </span>= &#123; ...</span><br><span class="line">  CurrentDirection :Direction</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Add the new field to the Player's ToJson member function</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> ToJson (p :Player) = json &#123; ...</span><br><span class="line">     <span class="keyword">do!</span> Json.write <span class="string">"current_direction"</span> p.CurrentDirection</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Add the new field to the Player's FromJson member function</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> FromJson (_ :Player) = json &#123; ...</span><br><span class="line">    <span class="keyword">let!</span> currentDirection = Json.read <span class="string">"current_direction"</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> &#123;  ...</span><br><span class="line">      CurrentDirection = currentDirection</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// When creating the Player object, we need to populate the CurrentDirection field</span></span><br><span class="line">player1 = &#123; ...</span><br><span class="line">  CurrentDirection = Direction.N</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>As we can see below, the current direction is now part of the player.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;coordinates&quot;:[&#123;&quot;x&quot;:30,&quot;y&quot;:40&#125;,&#123;&quot;x&quot;:30,&quot;y&quot;:41&#125;],&quot;current_direction&quot;:&quot;N&quot;,&quot;int_pairs&quot;:[[1,3],[13,87]],&quot;name&quot;:&quot;Jane&quot;,&quot;notes&quot;:[&quot;This is a note&quot;,&quot;This is another note&quot;],&quot;sco</span><br></pre></td></tr></table></figure>
<h3 id="Discriminated-Unions-Part-2-Enums"><a href="#Discriminated-Unions-Part-2-Enums" class="headerlink" title="Discriminated Unions - Part 2 (Enums)"></a>Discriminated Unions - Part 2 (Enums)</h3><p>Discriminated Unions can also be used like enums. This requires a slightly different approach.  Primarily, enums cannot have member functions, so the methods we use before won’t work. We’ll need a little more logic in the player part of the serialization/deserialization functions. For this we’ll define a player’s level.  This is a bit contrived, since using a straight number for levels makes more sense, but this example will at least get the idea across.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Level </span></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Level</span> </span>=</span><br><span class="line">  | Zero = <span class="number">0</span></span><br><span class="line">  | One = <span class="number">1</span> </span><br><span class="line">  | Two = <span class="number">2</span></span><br><span class="line">  | Three = <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>One thing that is the same is where we need to add <code>Level</code>, the <code>Player</code>: definition, ToJson, and FromJson. This is where we need to provide a bit more information regarding how we want to serialize the value.  I believe the most straight forward way is to convert to the underlying int.  In the <code>ToJson</code> we need to cast as int.  For <code>FromJson</code> we need to cast from int to the <code>Level</code> type.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Add a Level field to the definition of the Player type</span></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Player</span> </span>= &#123; ...</span><br><span class="line">  Level: Level</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Add the new field to the Player's ToJson member function</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> ToJson (p :Player) = json &#123; ...</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"level"</span> (int p.Level)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Add the new field to the Player's FromJson member function</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> FromJson (_ :Player) = json &#123; ...</span><br><span class="line">    <span class="keyword">let!</span> level = Json.read <span class="string">"level"</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> &#123;  ...</span><br><span class="line">      Level = enum&lt;Level&gt;(level)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// When creating the Player object, we need to populate the CurrentDirection field</span></span><br><span class="line">player1 = &#123; ...</span><br><span class="line">  Level = Level.Two;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>As we can see below, their level is now part of the player.  And our method of serialization to int works as expected.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;coordinates&quot;:[&#123;&quot;x&quot;:30,&quot;y&quot;:40&#125;,&#123;&quot;x&quot;:30,&quot;y&quot;:41&#125;],&quot;current_direction&quot;:&quot;N&quot;,&quot;int_pairs&quot;:[[1,3],[13,87]],&quot;level&quot;:2,&quot;name&quot;:&quot;Jane&quot;,&quot;notes&quot;:[&quot;This is a note&quot;,&quot;This is another note&quot;],&quot;score&quot;:100&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Discriminated-Unions-Part-3-Complex"><a href="#Discriminated-Unions-Part-3-Complex" class="headerlink" title="Discriminated Unions - Part 3 (Complex)"></a>Discriminated Unions - Part 3 (Complex)</h3><p>Discriminated unions offer more complex ways to represent their data.  This means we have to make a decision about how we want to represent that data.  This is one place where Chiron shines, it provides the power to represent complex types as we see fit.  For this example, we’ll look at a player <code>Role</code> that represents a more complex type.  An object that has a <code>type</code> and <code>value</code> attribute feels like a simple way to serialize.  There are certainly other ways this could be represented, and the attributes don’t neccessarily have to match for the varying types.</p>
<p><code>ToJson</code> uses a <code>json {...}</code> computation expression.  Since there is a mixture of string and int values withing the discriminated union, we need to put them within the <code>match</code>.  This creates an object representation.  The <code>FromJson</code> function first extracts the <code>type</code> attribute from the Json object, then returns the appropriate <code>Role</code> with its respective value.  Since they all use <code>value</code>, they look similar, but that attribute, or potentially list of attributes could vary depending on role.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Role </span></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Role</span> </span>= </span><br><span class="line">  | Scout <span class="keyword">of</span> string</span><br><span class="line">  | Assault <span class="keyword">of</span> string</span><br><span class="line">  | Defense <span class="keyword">of</span> string</span><br><span class="line">  | Swarm <span class="keyword">of</span> int</span><br><span class="line">  <span class="keyword">with</span> </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> ToJson (r :Role) = </span><br><span class="line">    <span class="keyword">match</span> r <span class="keyword">with</span></span><br><span class="line">    | Scout(x)   -&gt; json &#123;</span><br><span class="line">                      <span class="keyword">do!</span> Json.write <span class="string">"type"</span> <span class="string">"scout"</span> </span><br><span class="line">                      <span class="keyword">do!</span> Json.write <span class="string">"value"</span> x &#125;</span><br><span class="line">    | Assault(x) -&gt; json &#123;</span><br><span class="line">                      <span class="keyword">do!</span> Json.write <span class="string">"type"</span> <span class="string">"assault"</span> </span><br><span class="line">                      <span class="keyword">do!</span> Json.write <span class="string">"value"</span> x &#125;</span><br><span class="line">    | Defense(x) -&gt; json &#123;</span><br><span class="line">                      <span class="keyword">do!</span> Json.write <span class="string">"type"</span> <span class="string">"defense"</span> </span><br><span class="line">                      <span class="keyword">do!</span> Json.write <span class="string">"value"</span> x &#125;</span><br><span class="line">    | Swarm(x)   -&gt; json &#123; </span><br><span class="line">                      <span class="keyword">do!</span> Json.write <span class="string">"type"</span> <span class="string">"swarm"</span> </span><br><span class="line">                      <span class="keyword">do!</span> Json.write <span class="string">"value"</span> x &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> FromJson (_ :Role) = json &#123;</span><br><span class="line">    <span class="keyword">let!</span> role = Json.read <span class="string">"type"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">match</span> role <span class="keyword">with</span></span><br><span class="line">    | <span class="string">"scout"</span>   -&gt; <span class="keyword">let!</span> value = Json.read <span class="string">"value"</span></span><br><span class="line">                   <span class="keyword">return</span> Scout(value)</span><br><span class="line">    | <span class="string">"assault"</span> -&gt; <span class="keyword">let!</span> value = Json.read <span class="string">"value"</span></span><br><span class="line">                   <span class="keyword">return</span> Assault(value)</span><br><span class="line">    | <span class="string">"defense"</span> -&gt; <span class="keyword">let!</span> value = Json.read <span class="string">"value"</span></span><br><span class="line">                   <span class="keyword">return</span> Defense(value)</span><br><span class="line">    | <span class="string">"swarm"</span>   -&gt; <span class="keyword">let!</span> value = Json.read <span class="string">"value"</span></span><br><span class="line">                   <span class="keyword">return</span> Swarm(value)</span><br><span class="line">    | _         -&gt; failwith (sprintf <span class="string">"Invalid Role '%A'"</span> role)</span><br><span class="line">                   <span class="keyword">return</span> Swarm(<span class="number">0</span>) </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>We’re back to the familar process of modifying our 3 touch points: definition, ToJson, and FromJson.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Add a Role field to the definition of the Player type</span></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Player</span> </span>= &#123; ...</span><br><span class="line">  Role: Role</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Add the new field to the Player's ToJson member function</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> ToJson (p :Player) = json &#123; ...</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"role"</span> p.Role</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Add the new field to the Player's FromJson member function</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> FromJson (_ :Player) = json &#123; ...</span><br><span class="line">    <span class="keyword">let!</span> role = Json.read <span class="string">"role"</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> &#123;  ...</span><br><span class="line">      Role = role</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// When creating the Player object, we need to populate the Role field</span></span><br><span class="line">player1 = &#123; ...</span><br><span class="line">  Role = Scout(<span class="string">"ax-101"</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>As we can see below, the role is now serialized as an object.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;coordinates&quot;:[&#123;&quot;x&quot;:30,&quot;y&quot;:40&#125;,&#123;&quot;x&quot;:30,&quot;y&quot;:41&#125;],&quot;current_direction&quot;:&quot;N&quot;,&quot;int_pairs&quot;:[[1,3],[13,87]],&quot;level&quot;:2,&quot;name&quot;:&quot;Jane&quot;,&quot;notes&quot;:[&quot;This is a note&quot;,&quot;This is another note&quot;],&quot;role&quot;:&#123;&quot;type&quot;:&quot;scout&quot;,&quot;value&quot;:&quot;ax-101&quot;&#125;,&quot;score&quot;:100&#125;</span><br></pre></td></tr></table></figure>
<p>Alternatively, if the <code>Role</code> is <code>Swarm</code>, the object is serialized as appropriate. This exactly what we want, a string value when it’s a string, and int value when it’s an int.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">player1 = &#123; ...</span><br><span class="line">  Role = Swarm(<span class="number">200</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>Result: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;coordinates&quot;:[&#123;&quot;x&quot;:30,&quot;y&quot;:40&#125;,&#123;&quot;x&quot;:30,&quot;y&quot;:41&#125;],&quot;current_direction&quot;:&quot;N&quot;,&quot;int_pairs&quot;:[[1,3],[13,87]],&quot;level&quot;:2,&quot;name&quot;:&quot;Jane&quot;,&quot;notes&quot;:[&quot;This is a note&quot;,&quot;This is another note&quot;],&quot;role&quot;:&#123;&quot;type&quot;:&quot;swarm&quot;,&quot;value&quot;:200&#125;,&quot;score&quot;:100&#125;</span><br></pre></td></tr></table></figure>
<p>As promised, here is the complete definition of <code>Player</code>, with all its attributes.</p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Player</span> </span>= &#123;</span><br><span class="line">  Name :string;</span><br><span class="line">  Score :int;</span><br><span class="line">  Notes :string list;</span><br><span class="line">  IntPairs :(int * int) list;</span><br><span class="line">  Coordinates :Point list;</span><br><span class="line">  CurrentDirection :Direction;</span><br><span class="line">  Level :Level;</span><br><span class="line">  Role :Role</span><br><span class="line">  &#125; <span class="keyword">with</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> ToJson (p :Player) = json &#123;</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"name"</span> p.Name</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"score"</span> p.Score</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"notes"</span> p.Notes</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"int_pairs"</span> p.IntPairs</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"coordinates"</span> p.Coordinates</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"current_direction"</span> p.CurrentDirection</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"level"</span> (int p.Level)</span><br><span class="line">    <span class="keyword">do!</span> Json.write <span class="string">"role"</span> p.Role</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">member</span> FromJson (_ :Player) = json &#123;</span><br><span class="line">    <span class="keyword">let!</span> name = Json.read <span class="string">"name"</span></span><br><span class="line">    <span class="keyword">let!</span> score = Json.read <span class="string">"score"</span></span><br><span class="line">    <span class="keyword">let!</span> notes = Json.read <span class="string">"notes"</span></span><br><span class="line">    <span class="keyword">let!</span> intPairs = Json.read <span class="string">"int_pairs"</span></span><br><span class="line">    <span class="keyword">let!</span> coordinates = Json.read <span class="string">"coordinates"</span></span><br><span class="line">    <span class="keyword">let!</span> currentDirection = Json.read <span class="string">"current_direction"</span></span><br><span class="line">    <span class="keyword">let!</span> level = Json.read <span class="string">"level"</span></span><br><span class="line">    <span class="keyword">let!</span> role = Json.read <span class="string">"role"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; </span><br><span class="line">      Player.Name = name;</span><br><span class="line">      Score = score;</span><br><span class="line">      Notes = notes;</span><br><span class="line">      IntPairs = intPairs;</span><br><span class="line">      Coordinates = coordinates;</span><br><span class="line">      CurrentDirection = currentDirection;</span><br><span class="line">      Level = enum&lt;Level&gt;(level);</span><br><span class="line">      Role = role</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>This has been a light introduction into using Chiron.  Hopefully you have found it useful.  Until next time.</p>

        <div class="related-posts-box">
        Related Posts:<ul class="related-posts"><li class="related-posts-item"><a class="related-posts-link" href="/2016/12/07/Decision-Trees-with-F-and-Accord-NET-Part-2/">Decision Trees with F# and Accord.NET (Part 2)</a></li><li class="related-posts-item"><a class="related-posts-link" href="/2017/07/28/F-and-SQLite/">F# and SQLite</a></li><li class="related-posts-item"><a class="related-posts-link" href="/2017/12/26/The-Power-of-the-Forward-Pipe/">The Power of the Forward Pipe</a></li></ul>        </div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://codesuji.com/2019/01/07/Chiron-Introduction/" data-id="ckndqlo2r0005wumwgubo6on4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Chiron/">Chiron</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/F/">F#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/FSharp/">FSharp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Serialization/">Serialization</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/01/14/F-and-MLNet-Sentiment-Analysis/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          F# and ML.NET Sentiment Analysis
        
      </div>
    </a>
  
  
    <a href="/2018/12/18/F-Benchmarking/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">F# Benchmarking</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/NET-Core/" style="font-size: 17.78px;">.NET Core</a> <a href="/tags/Accord-NET/" style="font-size: 15.56px;">Accord.NET</a> <a href="/tags/Analytics/" style="font-size: 14.44px;">Analytics</a> <a href="/tags/Audio/" style="font-size: 10px;">Audio</a> <a href="/tags/Benchmarking/" style="font-size: 10px;">Benchmarking</a> <a href="/tags/Chiron/" style="font-size: 10px;">Chiron</a> <a href="/tags/Classification/" style="font-size: 11.11px;">Classification</a> <a href="/tags/Cognitive-Services/" style="font-size: 11.11px;">Cognitive Services</a> <a href="/tags/Compiler/" style="font-size: 13.33px;">Compiler</a> <a href="/tags/Computer-Vision/" style="font-size: 11.11px;">Computer Vision</a> <a href="/tags/Cordova/" style="font-size: 10px;">Cordova</a> <a href="/tags/DTW/" style="font-size: 14.44px;">DTW</a> <a href="/tags/Data/" style="font-size: 16.67px;">Data</a> <a href="/tags/Database/" style="font-size: 11.11px;">Database</a> <a href="/tags/Decision-Trees/" style="font-size: 11.11px;">Decision Trees</a> <a href="/tags/Deedle/" style="font-size: 10px;">Deedle</a> <a href="/tags/Delegate/" style="font-size: 10px;">Delegate</a> <a href="/tags/Detection/" style="font-size: 10px;">Detection</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Dynamic-Time-Warping/" style="font-size: 13.33px;">Dynamic Time Warping</a> <a href="/tags/EEG/" style="font-size: 10px;">EEG</a> <a href="/tags/Edges/" style="font-size: 10px;">Edges</a> <a href="/tags/Education/" style="font-size: 10px;">Education</a> <a href="/tags/Elmish/" style="font-size: 10px;">Elmish</a> <a href="/tags/EmguCV/" style="font-size: 10px;">EmguCV</a> <a href="/tags/Entropy/" style="font-size: 10px;">Entropy</a> <a href="/tags/F/" style="font-size: 20px;">F#</a> <a href="/tags/FParsec/" style="font-size: 12.22px;">FParsec</a> <a href="/tags/FSAdvent/" style="font-size: 10px;">FSAdvent</a> <a href="/tags/FSharp/" style="font-size: 20px;">FSharp</a> <a href="/tags/Fable/" style="font-size: 10px;">Fable</a> <a href="/tags/Faces/" style="font-size: 11.11px;">Faces</a> <a href="/tags/Filters/" style="font-size: 10px;">Filters</a> <a href="/tags/Http/" style="font-size: 11.11px;">Http</a> <a href="/tags/Images/" style="font-size: 12.22px;">Images</a> <a href="/tags/Ionide/" style="font-size: 10px;">Ionide</a> <a href="/tags/Kaggle/" style="font-size: 12.22px;">Kaggle</a> <a href="/tags/Keyboard/" style="font-size: 13.33px;">Keyboard</a> <a href="/tags/Legos/" style="font-size: 11.11px;">Legos</a> <a href="/tags/Logging/" style="font-size: 10px;">Logging</a> <a href="/tags/MLNet/" style="font-size: 16.67px;">MLNet</a> <a href="/tags/MSIL/" style="font-size: 12.22px;">MSIL</a> <a href="/tags/Machine-Learning/" style="font-size: 18.89px;">Machine Learning</a> <a href="/tags/MathNet/" style="font-size: 10px;">MathNet</a> <a href="/tags/Messaging/" style="font-size: 10px;">Messaging</a> <a href="/tags/Mobile/" style="font-size: 10px;">Mobile</a> <a href="/tags/Mono/" style="font-size: 10px;">Mono</a> <a href="/tags/Morse-Code/" style="font-size: 10px;">Morse Code</a> <a href="/tags/Mqtt/" style="font-size: 12.22px;">Mqtt</a> <a href="/tags/Nix/" style="font-size: 10px;">Nix</a> <a href="/tags/OpenCV/" style="font-size: 10px;">OpenCV</a> <a href="/tags/Optimization/" style="font-size: 10px;">Optimization</a> <a href="/tags/Parsing/" style="font-size: 12.22px;">Parsing</a> <a href="/tags/Performance/" style="font-size: 10px;">Performance</a> <a href="/tags/Presentations/" style="font-size: 10px;">Presentations</a> <a href="/tags/Propagator/" style="font-size: 10px;">Propagator</a> <a href="/tags/Racket/" style="font-size: 10px;">Racket</a> <a href="/tags/Regression/" style="font-size: 10px;">Regression</a> <a href="/tags/Rekognition/" style="font-size: 10px;">Rekognition</a> <a href="/tags/Robotics/" style="font-size: 10px;">Robotics</a> <a href="/tags/Rust/" style="font-size: 10px;">Rust</a> <a href="/tags/STEM/" style="font-size: 11.11px;">STEM</a> <a href="/tags/Scoring/" style="font-size: 10px;">Scoring</a> <a href="/tags/Search/" style="font-size: 10px;">Search</a> <a href="/tags/Serialization/" style="font-size: 10px;">Serialization</a> <a href="/tags/SignalR/" style="font-size: 10px;">SignalR</a> <a href="/tags/Signals/" style="font-size: 12.22px;">Signals</a> <a href="/tags/Similarity/" style="font-size: 11.11px;">Similarity</a> <a href="/tags/Sound/" style="font-size: 10px;">Sound</a> <a href="/tags/Statistics/" style="font-size: 13.33px;">Statistics</a> <a href="/tags/Tail-calls/" style="font-size: 10px;">Tail calls</a> <a href="/tags/Text/" style="font-size: 14.44px;">Text</a> <a href="/tags/Timeseries/" style="font-size: 10px;">Timeseries</a> <a href="/tags/Tips/" style="font-size: 12.22px;">Tips</a> <a href="/tags/Translation/" style="font-size: 10px;">Translation</a> <a href="/tags/VS-Code/" style="font-size: 10px;">VS Code</a> <a href="/tags/Web/" style="font-size: 10px;">Web</a> <a href="/tags/Webapi/" style="font-size: 11.11px;">Webapi</a> <a href="/tags/admin/" style="font-size: 11.11px;">admin</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/04/10/F-Vim/">F# the Vim way</a>
          </li>
        
          <li>
            <a href="/2021/03/09/F-Scripting/">F# Scripting</a>
          </li>
        
          <li>
            <a href="/2020/12/12/Mqtt-Server-FSharp-3/">Building an MQTT server in F# - Part 3</a>
          </li>
        
          <li>
            <a href="/2020/11/29/Mqtt-Server-FSharp-2/">Building an MQTT server in F# - Part 2</a>
          </li>
        
          <li>
            <a href="/2020/11/22/Mqtt-Server-FSharp-1/">Building an MQTT server in F# - Part 1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 codesuji.com<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>